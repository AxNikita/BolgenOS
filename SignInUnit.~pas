unit SignInUnit;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls;

type
  TSignInForm = class(TForm)
    UsernameEdit: TEdit;
    PasswordEdit: TEdit;
    SignInButton: TButton;
    UsernameLabel: TLabel;
    PasswordLabel: TLabel;
    SignUpButton: TButton;
    procedure SignInButtonClick(Sender: TObject);
    procedure SignUpButtonClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;



var
  SignInForm: TSignInForm;

implementation

uses DesktopUnit, UserDBUnit, SignUpUnit;

{$R *.dfm}
procedure SignIn(username: string; password: string);
var
  f: file of user;
  us: user;
begin
  AssignFile(f, 'user.db');
  Reset(f);


  while not(Eof(f)) do begin
    read(f, us);
    if (username = us.username)and(password = us.password) then begin
      SignInForm.Hide;
      DesktopForm.ShowModal;
      SignInForm.Close;
    end;
  end;

CloseFile(f);  
end;


procedure TSignInForm.SignInButtonClick(Sender: TObject);
var
  f: file of user;
  username, password: string;
begin
  //user.db
  username:= UsernameEdit.Text;
  password:= PasswordEdit.Text;
  SignIn(username, password);
end;

procedure TSignInForm.SignUpButtonClick(Sender: TObject);
begin
  self.Hide;
  SignUpForm.ShowModal;
  self.Close;
end;

end.
